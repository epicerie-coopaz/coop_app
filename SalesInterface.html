<!DOCTYPE html>
<html style="height: 100%;"> 

<head>
    <title>Caisse</title>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <script type="importmap">{"imports": {"@material/web/": "https://esm.run/@material/web/"}}</script>
    <script type="module">
      import '@material/web/all.js';
      import {styles as typescaleStyles} from '@material/web/typography/md-typescale-styles.js';
      document.adoptedStyleSheets.push(typescaleStyles.styleSheet);
    </script>

    <?!= include('stylesheet'); ?>
</head>

<body>
    <!-- Menu -->
    <div id="menu">
          <a onclick="loadContent('home')" href="#"><div id="logo"></div></a>
          <!-- bouton burger Menu -->
          <md-menu-item id="usage-submenu-anchor" inline-icon>
            <md-icon slot="start"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
            </svg>
            </md-icon>
                        
          </md-menu-item>
          <!-- contenu du menu -->
          <md-menu positioning="popover" id="usage-submenu" anchor="usage-submenu-anchor">            
            <md-menu-item onclick="loadContent('suppliers')">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
              </svg>
              Fournisseurs
            </md-menu-item>
            <md-menu-item onclick="loadContent('perte')" >
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="bi bi-trash-fill">
                <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"></path>
              </svg>
              Pertes
            </md-menu-item>
            <md-menu-item onclick="requestAccess('inventaire')">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calculator-fill" viewBox="0 0 16 16">
                  <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm2 .5v2a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0-.5.5m0 4v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5M4.5 9a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 12.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5M7.5 6a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM7 9.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5m.5 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM10 6.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5m.5 2.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5z"/>
              </svg>
              Inventaire
            </md-menu-item>
          </md-menu>

          <md-menu-item id="menuVente" onclick="loadContent('vente')"  inline-icon>
            <md-icon slot="start"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
              <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
            </svg>
            </md-icon>
            Vente
          </md-menu-item>
          <md-menu-item id="menuReception" onclick="loadContent('reception')" inline-icon>
            <md-icon slot="start"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003zM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461z"/>
            </svg>
            </md-icon>
            Réception
          </md-menu-item>

          
    </div>


    <!-- Contenu Principal -->
    <div id="content">
      <!-- Header -->
      <header>
          <h1 id="header-title">Caisse Coop'az</h1>
      </header>

      <!-- Sections de contenu -->
      <div id="workplace" class="flex-column">

        <!----------------------------- Accueil ------------------------------->
        <div id="home" class="content-section active">
            <p>Bienvenue sur la caisse en ligne de la Coop'az</p>
            <div id="homeMainOptions" class="card-outlined">
              <H3>Que souhaitez-vous faire aujourd'hui? </H3> 
              <div class="rowWrapper">
                <div>
                  <md-fab class="" variant="primary" label="Vente" onclick="loadContent('vente')">
                      <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
                        <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                      </svg>
                      Vente
                    </md-fab>
                </div>
                <div>
                    <md-fab class="" variant="primary" label="Réception" onclick="loadContent('reception')" inline-icon>
                      <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam-fill" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003zM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461z"/>
                      </svg>
                      Réception
                    </md-fab>
                </div>
              </div>
            </div>
            <div id="homeBegin" class="card-light">
              <h4>Aide au démarrage</h4>
              <p>lien vers videos<p>
              <p>document d'aide</p>
              <p>...</p>
            </div>
            <div id="homeOthersOptions">
                <h4>Autres fonctions</h4>
                <div class="rowWrapper" style="justify-content: center;">
                  <md-outlined-button onclick="loadContent('suppliers')">
                    <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                    </svg>
                    Consulter la liste des fournisseurs
                  </md-outlined-button>
                  <md-outlined-button onclick="loadContent('perte')" >
                    <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="bi bi-trash-fill">
                      <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"></path>
                    </svg>
                    Enregistrer des pertes
                  </md-outlined-button>
                  <md-outlined-button onclick="requestAccess('inventaire')">
                    <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calculator-fill" viewBox="0 0 16 16">
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm2 .5v2a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0-.5.5m0 4v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5M4.5 9a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 12.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5M7.5 6a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM7 9.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5m.5 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM10 6.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5m.5 2.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5z"/>
                    </svg>
                    Accéder à l'inventaire
                  </md-outlined-button>
                </div>
            </div>

            
            
            </div>
     
        </div>

       <!------------------------------- Vente ------------------------------->
<div id="vente" class="content-section">
    <div id="tableContainer">
        <table id="productList">
            <thead>
                <tr>
                    <th>Produit</th>
                    <th>Prix Unitaire</th>
                    <th>Stock</th>
                    <th>Quantité</th>
                    <th class="discount-column">Remise (%)</th> <!-- Classe pour la colonne Remise -->
                    <th>Total Ligne</th>
                </tr>
            </thead>
            <tbody>
                <!-- Les lignes de produits seront ajoutées ici -->
            </tbody>
        </table>
    </div>

    <div id="addRow">
        <md-filled-tonal-button onclick="addRow()">
            Ajouter une ligne
            <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/></svg>
        </md-filled-tonal-button>
    </div>

    <div id="finalContainer" class="rowWrapper">
        <div id="adherentsContainer" class="card-grey">
            <div id="adherentSelect" class="rowWrapper">
                <h2>Adhérent : </h2>
                <div id="adherentsDropdownContainer" class="DropdownBlock">
                    <select id="adherentsDropdown" onchange="updateEmail()"></select>
                </div>
                <div id="addAdherent">
                    <md-filled-tonal-button id="addAdherentButton" onclick="openCreateAdherentPopup()">
                        Créer un adhérent
                        <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4zM17 5v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V5c0-.55-.45-1-1-1s-1 .45-1 1z"/>
                        </svg>
                    </md-filled-tonal-button>
                </div>
            </div>
            <div id="adherentDetails" class="rowWrapper">
                <div id="adherentEmail"></div>
                <div id="cotisationContainer" class="rowWrapper" style="display: none;">
                    <label for="cotisationAmount">Montant de la cotisation : </label>
                    <input type="number" id="cotisationAmount" value="0" min="5" step="1" oninput="calculateTotal()">
                </div>
            </div>
        </div>

        <div id="paymentContainer" class="card-grey">
            <div id="paymentSelect" class="rowWrapper">
                <h2>Paiement : </h2>
                <div class="DropdownBlock">
                    <select id="paymentMethodDropdown" onchange="calculateTotal()">
                        <option value="" disabled selected>Sélectionnez un mode de paiement</option>
                        <option value="CB">CB</option>
                        <option value="Chèque">Chèque</option>
                    </select>
                </div>
                <div id="cbFeeField" class="overview-line" style="display: none;">
                  <div>Frais de Carte Bancaire :&nbsp;<span id="cbFee">0</span>&nbsp;€</div>
                </div>
            </div>
            
            <!-- Case à cocher "J'ai un avoir" -->
            <div>
                <label>
                    <input type="checkbox" id="hasCredit" onclick="toggleCreditField()"> J'ai un avoir
                </label>
            </div>
            <!-- Champ pour le montant de l'avoir, masqué par défaut -->
            <div id="creditField" style="display:none;">
                <label for="creditAmount">Montant de l'avoir :</label>
                <input type="number" id="creditAmount" name="creditAmount" placeholder="Montant de l'avoir" min="0" oninput="calculateTotal()">
            </div>
        </div>
    </div>

    <H2 id="total">Total Général : 0 €</H2>
    <div id="validateButton">
        <md-filled-button label="Valider" onclick="validate()">
            Valider
        </md-filled-tonal-button>
    </div>
</div>




        <!------------------------------- Reception ------------------------------->
    <div id="content">
        <div id="reception" class="content-section">
            <div id="supplierContainer" class="card-grey">
              <div id="supplierSelect" class="rowWrapper">
                <h2>Producteur : </h2>
                <div id="supplierDropdownContainer">
                  <select id="supplierDropdown" onchange="updateProductDropdown(),handleSupplierChange()">
                    <option value="">-- Choisissez un fournisseur --</option>
                    <!-- Les fournisseurs seront chargés ici -->
                  </select>
                </div>
              </div>
              <div id="addRow">
                <md-filled-tonal-button id="addProductButtonreception" onclick="createNewProduct()">
                  Créer un produit
                  <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-plus-fill" viewBox="0 0 16 16">
                  <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1M8.5 7v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 1 0"/>
                </svg>
                </md-filled-tonal-button>
              </div>
            </div>
            <div id="tableContainer">
              <table id="receptionTable">
                <thead>
                    <tr>
                        <th>Produit</th>
                        <th>Prix Actuel</th>
                        <th>Stock Actuel</th>
                        <th>Quantité Réceptionnée</th>
                        <th>Montant Total</th>
                        <th>Modifier</th> <!-- Colonne pour ouvrir la pop-up -->
                        <th>Delete</th> <!-- Nouvelle colonne pour les actions -->
                    </tr>
                </thead>
                <tbody>
                    <div id="error-message-reception" style="color: red; display: none;">
                        Sélectionnez d'abord un fournisseur.
                    </div>
                </tbody>
              </table>
            </div>
            <div id="addRow">
              <md-filled-tonal-button id="" onclick="addNewLine()">
                    Ajouter une ligne
                    <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/></svg>
                </md-filled-tonal-button>
            </div>
            <H2 id="totalAmount">Total Réception : 0 €</H2>
            <div id="validateButton">
              <md-filled-button id="validateButton" onclick="validateReception()">Valider</md-filled-button>
            </div>
        </div>
      </div>
    </div>

        <!------------------------------- Fournisseurs ------------------------------->
        <div id="suppliers" class="content-section">
            <div id="addRow">
              <md-filled-tonal-button id="addProductButton" onclick="openCreateSupplierPopup()">
                Créer un fournisseur
                <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M9 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4zM17 5v3h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V5c0-.55-.45-1-1-1s-1 .45-1 1z"/>
                </svg>
              </md-filled-tonal-button>
            </div>
            <div id="tableContainer">
              <table id="supplierTable">
                <thead>
                    <tr>
                        <th>Nom du Fournisseur</th>
                        <th>Email</th>
                        <th>Téléphone</th>
                        <th>Adresse</th>
                        <th>Code Postal</th>
                        <th>Ville</th>
                        <th>Référent</th>
                    </tr>
                </thead>
                <tbody id="supplierTableBody">
                    <!-- Les fournisseurs seront ajoutés ici via JavaScript -->
                </tbody>
              </table>
            </div>
        </div>

        <!------------------------------- Pertes ------------------------------->
        <div id="perte" class="content-section">
            <div id="tableContainer">
              <table id="lossTable">
                <thead>
                    <tr>
                        <th>Produit</th>
                        <th>Prix Unitaire</th>
                        <th>Stock</th>
                        <th>Perte</th>
                        <th>Total Ligne</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Les lignes de produits seront ajoutées ici -->
                </tbody>
              </table>
            </div>

            <div id="addRow">
              <md-filled-tonal-button id="" onclick="addRowPertes()">
                    Ajouter une ligne
                    <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/></svg>
                </md-filled-tonal-button>
            </div>
            

          <H2 id="totalPertes">Total Général : 0 €</H2>
            <div id="validateButton">
              <md-filled-button label="Valider" onclick="validateLosses()">
                Valider
              </md-filled-button>
            </div>
        </div>



        <!------------------------------- Inventaire ------------------------------->
        <div id="inventaire" class="content-section">
            <div id="tableContainer">
              <table id="productTable">
                <thead>
                    <tr>
                        <th>Produit</th>
                        <th>Prix</th>
                        <th>Stock actuel</th>
                        <th>Sotck inventaire</th>
                        <th>date de l'inventaire</th>
                    </tr>
                </thead>
                <tbody id="productRows">
                    <!-- Les lignes seront ajoutées dynamiquement -->
                </tbody>
            </table>
            </div>

            <!-- Template pour une ligne -->
            <template id="rowTemplate">
                <tr>
                    <td>
                        <select class="product-select" name="product"></select>
                    </td>
                    <td class="price-cell"></td>
                    <td class="stock-cell"></td>
                    <td>
                        <input type="number" class="stock-update" min="0" placeholder="Nouveau stock">
                    </td>
                    <td class="last-delivery-date"></td>
                </tr>
            </template>

            <div id="addRow">
              <md-filled-tonal-button onclick="addRowInventaire()">
                    Ajouter une ligne
                    <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/></svg>
                </md-filled-tonal-button>
            </div>
            <div id="saveButton">
              <md-filled-button onclick="saveInventoryWithoutMail()">
                Enregistrer les modifications
                <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-floppy" viewBox="0 0 16 16">
                <path d="M11 2H9v3h2z"/>
                <path d="M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0M1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5m3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4zM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5z"/>
                </svg>
              </md-filled-button>
            </div>
            <div id="validateButton">
              <md-filled-button onclick="saveInventory()">Valider l'inventaire</md-filled-button>
            </div>
        </div>
      </div>

    </div>
    
    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Système de gestion des ventes Coop'az</p>
    </footer>
    
    
    <?!= include('uiScripts'); ?>


</body>

</html>